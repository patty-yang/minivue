<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<button id="btn">button</button>
<script type="module">
  // import {
  //   ref,
  //   effect
  // } from '../../../node_modules/vue/dist/vue.esm-browser.prod.js'
  import { ref, effect } from '../dist/reactivity.esm.js'

  // issue1 会触发多次
  const flag = ref(true)

  const count = ref(0)

  effect(() => {
    flag.value
    count.value
    console.count('effect')
  })

  btn.onclick = function() {
    // flag.value = !flag.value
    count.value++
  }
</script>
</body>
</html>